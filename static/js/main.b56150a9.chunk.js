(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{87:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),r=n(17),a=n.n(r),u=n(14),i=(n(59),n(6)),s=n(23),b=n(24),j=n(28),l=n(27),h=n(20),O=n.n(h),d=n(31),f=n.n(d),p=n(4),m=Object(p.b)("phoneBook/fetchContactsRequest"),v=Object(p.b)("phoneBook/fetchContactsSuccess"),x=Object(p.b)("phoneBook/fetchContactsError"),C=Object(p.b)("phoneBook/addContactRequest"),g=Object(p.b)("phoneBook/addContactSuccess"),k=Object(p.b)("phoneBook/addContactError"),y=Object(p.b)("phoneBook/deleteContactRequest"),B=Object(p.b)("phoneBook/deleteContactSuccess"),w=Object(p.b)("phoneBook/deleteContactError"),N=Object(p.b)("phoneBook/filter");Object(p.b)("phoneBook/alert");O.a.defaults.baseURL="http://localhost:3000";var S,A,E=n(22),F=function(t){return t.phoneBook.contacts},D=function(t){return t.phoneBook.filter},L=Object(E.a)([F,D],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),R=n(2),T=function(t){Object(j.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:"+38"},t.handleNameChange=function(e){var n=e.currentTarget,c=n.name,o=n.value;t.setState(Object(i.a)({},c,o))},t.handleNumberChange=function(e){var n=e.currentTarget,c=n.name,o=n.value;t.setState(Object(i.a)({},c,o))},t.onExistingContactAlert=function(e){e.preventDefault(),t.setState({name:"",number:"+38"}),alert(t.state.name+" \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432")},t.getSomeOfName=function(e){var n=e.toLowerCase();return t.props.contacts.some((function(t){return t.name.toLowerCase()===n}))},t}return Object(b.a)(n,[{key:"render",value:function(){var t=this,e=this.props.onAddNewContact,n=this.state,c=n.name,o=n.number,r=this.getSomeOfName(c);return Object(R.jsxs)("form",{className:"contact-form",action:"",children:[Object(R.jsxs)("label",{htmlFor:"",children:["Name ",Object(R.jsx)("input",{name:"name",onChange:this.handleNameChange,type:"text",value:c})]}),Object(R.jsxs)("label",{htmlFor:"",children:["Number ",Object(R.jsx)("input",{name:"number",onChange:this.handleNumberChange,type:"tel",value:o})]}),Object(R.jsx)("button",{disabled:!(c.length&&o.length>3),onClick:r?this.onExistingContactAlert:function(n){n.preventDefault(),e(c,o),t.setState({name:"",number:"+38"})},type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})}}]),n}(c.Component),q=Object(u.b)((function(t){return{contacts:F(t)}}),(function(t){return{onAddNewContact:function(e,n){return t(function(t,e){return function(n){var c={name:t,number:e};n(C()),O.a.post("/contacts",c).then((function(t){var e=t.data;return n(g(e))})).catch((function(t){return n(k(t))}))}}(e,n))}}}))(T),J=Object(u.b)((function(t){return{value:D(t)}}),(function(t){return{handleFilterChange:function(e){return t(N(e.currentTarget.value))}}}))((function(t){return window.props=t,Object(R.jsx)("label",{htmlFor:"",children:Object(R.jsx)("input",{name:"filter",type:"text",placeholder:"Search contacts",value:t.value,onChange:t.handleFilterChange})})})),M=function(t){Object(j.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this;return this.props.contacts.length?this.props.contacts.map((function(e,n){return Object(R.jsxs)("li",{children:[Object(R.jsx)("p",{children:n+1+") "+e.name+" : "+e.number}),Object(R.jsx)("button",{onClick:function(){return t.props.onDeleteContact(e.id)},type:"button",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},e.id)})):Object(R.jsx)("li",{children:Object(R.jsx)("p",{children:"No saved contacts yet"})},f.a.generate())}}]),n}(c.Component),z=Object(u.b)((function(t){return{contacts:L(t)}}),(function(t){return{onDeleteContact:function(e){return t(function(t){return function(e){e(y()),O.a.delete("/contacts/"+t).then((function(){return e(B(t))})).catch((function(t){return e(w(t))}))}}(e))},fetchContacts:function(){return t((function(t){t(m()),O.a.get("/contacts").then((function(e){var n=e.data;return t(v(n))})).catch((function(e){return t(x(e))}))}))}}}))(M),I=(n(87),n(111)),P=n(114),U=n(112),W=n(113),G=n(48),H=n.n(G),K=function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(I.a,{}),Object(R.jsx)(P.a,{position:"relative",children:Object(R.jsxs)(U.a,{children:[Object(R.jsx)(H.a,{}),Object(R.jsx)(W.a,{variant:"h6",color:"inherit",noWrap:!0,children:"PhoneBook"})]})})]})},Q=function(){return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(K,{}),Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)("div",{children:Object(R.jsx)(q,{})}),Object(R.jsxs)("div",{children:[Object(R.jsx)("h2",{children:"Contacts"}),Object(R.jsx)(J,{}),Object(R.jsx)("ul",{children:Object(R.jsx)(z,{})})]})]})]})},V=n(26),X=n(5),Y=Object(p.c)([],(S={},Object(i.a)(S,v,(function(t,e){return e.payload})),Object(i.a)(S,g,(function(t,e){return[].concat(Object(V.a)(t),[e.payload])})),Object(i.a)(S,B,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),S)),Z=Object(p.c)("",Object(i.a)({},N,(function(t,e){return e.payload}))),$=Object(p.c)(!1,(A={},Object(i.a)(A,C,(function(){return!0})),Object(i.a)(A,g,(function(){return!1})),Object(i.a)(A,k,(function(){return!1})),Object(i.a)(A,y,(function(){return!0})),Object(i.a)(A,B,(function(){return!1})),Object(i.a)(A,w,(function(){return!1})),A)),_=Object(X.c)({contacts:Y,filter:Z,loading:$}),tt=n(49),et=n.n(tt),nt=(n(92),n(16)),ct=Object(X.c)({phoneBook:_}),ot=[].concat(Object(V.a)(Object(p.d)({serializableCheck:{ignoredActions:[nt.a,nt.f,nt.b,nt.c,nt.d,nt.e]}})),[et.a]),rt=Object(p.a)({reducer:ct,middleware:ot,devTools:!1});a.a.render(Object(R.jsx)(o.a.StrictMode,{children:Object(R.jsx)(u.a,{store:rt,children:Object(R.jsx)(Q,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.b56150a9.chunk.js.map